<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html"
      xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html"
      xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html"
      xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
    <meta charset="UTF-8"/>
    <body>
        <link rel="stylesheet" href="style.css">
        <script src="../build/constructor.min.js"></script>
        <div id="container"></div>
        <script>
            c = new Constructor(document.getElementById('container'));
            c.loadPreset('cup');
        </script>
        <div class="panel">
            <input type="button" onclick="c.mode = Mode.Mode2D" value="Mode 2D"/>
            <input type="button" onclick="c.mode = Mode.Mode3D" value="Mode 3D"/>
            <input type="button" onclick="c.zoomIn()" value="zoom in"/>
            <input type="button" onclick="c.zoomOut()" value="zoom out"/>
            <input type="button" onclick="c.zoomToFit()" value="zoom to fit"/>
            <input type="button" onclick="c.resetZoom()" value="zoom 1:1"/>
            <input type="button" onclick="c.setActiveSide(0)" value="side 1"/>
            <input type="button" onclick="c.setActiveSide(1)" value="side 2"/>
            <input type="button" onclick="c.setActiveSide(2)" value="side 3"/>
            <input type="button" onclick="c.setActiveSide(3)" value="side 4"/>
            <input type="button" onclick="c.addSide(800, 600)" value="addSide"/>
            <input type="button" onclick="c.getActiveSide.addRectangle()" value="add rectangle"/>
            <input type="button" onclick="c.getActiveSide.addCircle()" value="add circle"/>
            <input type="button" onclick="c.getActiveSide.addTriangle()" value="add triangle"/>
            <input type="button" onclick="c.getActiveSide.addText()" value="add text"/>
            <input type="button" onclick="c.getActiveSide.addImage('images/bug.png')" value="add image"/>
            <input type="button" onclick="c.selection.remove()" value="remove"/>
            <input type="button" onclick="c.selection.toFront()" value="up"/>
            <input type="button" onclick="c.selection.toBack()" value="down"/>
            <input id="locked" type="button"
                   onclick="c.selection.setLocked(!c.selection.isLocked());this.style.background = c.selection.isLocked() ? '#bbbbbb' : null"
                   value="locked">
            <input id="snap" type="button"
                   onclick="c.snapToObjects=!c.snapToObjects;this.style.background = c.snapToObjects ? '#bbbbbb' : null"
                   value="snap to objects">
            <input id="color" type="color" onchange="c.selection.setColor(this.value)"/>
            <input id="alpha" type="range" min="0.0" max="1.0" step="0.1" oninput="c.selection.setAlpha(this.value)"/>
            <input type="button" onclick="c.preview.model.load('hood')" value="hood"/>
            <input type="button" onclick="c.preview.model.load('curved_cup')" value="curved_cup"/>
            <input type="button" onclick="c.preview.model.load('t-shirt')" value="t-shirt"/>
            <input type="button" onclick="c.preview.model.material=Materials.ceramics" value="ceramics"/>
            <input type="button" onclick="c.preview.model.material=Materials.glass" value="glass"/>
            <input type="button" onclick="c.preview.model.material=Materials.metal" value="metal"/>
            <input type="button" onclick="c.preview.model.material=Materials.paper" value="paper"/>
            <input type="button" onclick="c.selection.addFilter(Filters.EMBOSS)" value="emboss"/>
            <input type="button" onclick="c.selection.addFilter(Filters.SHARPEN)" value="sharpen"/>
            <input type="button" onclick="c.selection.addFilter(Filters.blur)" value="blur"/>
            <input type="button" onclick="c.selection.resetFilters()" value="clear filters"/>
        </div>
        <script>
            color = document.getElementById("color");
            locked = document.getElementById("locked");
            alpha = document.getElementById("alpha");
            c.onSelect(s => {
                color.value = s.color.toHex();
                locked.style.background = s.isLocked() ? "#bbbbbb" : null;
                alpha.value = c.selection.getAlpha();
            });
            c.onDeselect(s => {
                color.value = "#ffffff";
                locked.style.background = null;
                alpha.value = 0;
            });
        </script>
    </body>
</html>
